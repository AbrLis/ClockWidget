# План изменений: сортировка таймеров по последнему запуску

## 1. Модификация модели таймера
- Добавить в `TimerPersistModel` новое поле `DateTime LastStartedUtc` (или аналогичное), чтобы хранить время последнего запуска таймера.
- Обновить сериализацию/десериализацию, чтобы новое поле сохранялось в JSON.
- Добавить XML-комментарии к новому полю.

## 2. Изменение логики запуска таймера
- В `TimerEntryViewModel.Start()` при запуске таймера обновлять поле `LastStartedUtc` текущим временем (UTC).
- После обновления вызывать метод во ViewModel списка таймеров для перемещения таймера наверх.
- Добавить событие или callback в `TimerEntryViewModel`, чтобы оповещать `TimersViewModel` о запуске таймера.

## 3. Изменение ViewModel списка таймеров
- В `TimersViewModel` реализовать метод, который перемещает соответствующий таймер (и его persist-модель) на верх коллекций `Timers` и `TimerEntries`.
- После перемещения вызывать сохранение данных (`SaveAsync`), чтобы порядок сохранился между сессиями.
- Обеспечить, чтобы при загрузке таймеры сортировались по `LastStartedUtc` (сначала самые свежие).
- Добавить комментарии к новым методам.

## 4. UI и визуальное обновление
- Убедиться, что коллекция `TimerEntries` обновляется корректно и UI сразу отображает новый порядок.
- Проверить, что при добавлении нового таймера он также появляется наверху.

## 5. Тестирование и обратная совместимость
- Проверить, что старые таймеры без поля `LastStartedUtc` корректно обрабатываются (например, считать их "старыми" и помещать в конец списка).
- Протестировать запуск, добавление, удаление и сохранение порядка таймеров.

## 6. Документирование
- Добавить комментарии к новым и изменённым классам и методам, описывающие их назначение и особенности.

---

**Результат:**
- Последний запущенный таймер всегда отображается первым в списке.
- Порядок сохраняется между сессиями.
- UI всегда отражает актуальный порядок таймеров. 